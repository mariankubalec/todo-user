(function(){"use strict";var t={299:function(t,n,a){var e=a(9242),o=a(3396);const r={class:"form-signin w-100 m-auto"};function i(t,n,a,e,i,s){const l=(0,o.up)("NavBar"),u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("main",r,[(0,o.Wm)(u)])],64)}const s={class:"navbar navbar-expand-md navbar-dark bg-dark mb-4"},l={class:"container-fluid"},u={key:0,class:"navbar-nav me-auto mb-2 mb-md-0"},c={class:"nav-item"},p={class:"nav-item"},m={key:1,class:"navbar-nav me-auto mb-2 mb-md-0"},d={class:"nav-item"};function f(t,n,a,e,r,i){const f=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("nav",s,[(0,o._)("div",l,[(0,o.Wm)(f,{to:"/",class:"navbar-brand"},{default:(0,o.w5)((()=>[(0,o.Uk)("Home")])),_:1}),(0,o._)("div",null,[e.auth?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("ul",u,[(0,o._)("li",c,[(0,o.Wm)(f,{to:"/login",class:"nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)("Login")])),_:1})]),(0,o._)("li",p,[(0,o.Wm)(f,{to:"/register",class:"nav-link"},{default:(0,o.w5)((()=>[(0,o.Uk)("Register")])),_:1})])])),e.auth?((0,o.wg)(),(0,o.iD)("ul",m,[(0,o._)("li",d,[(0,o.Wm)(f,{to:"/login",class:"nav-link",onClick:e.logout},{default:(0,o.w5)((()=>[(0,o.Uk)("Logout")])),_:1},8,["onClick"])])])):(0,o.kq)("",!0)])])])}var h=a(65),v={name:"NavBar",setup(){const t=(0,h.oR)(),n=(0,o.Fl)((()=>t.state.authenticated)),a=async()=>{await fetch("http://localhost:8000/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"})};return{auth:n,logout:a}}},w=a(89);const b=(0,w.Z)(v,[["render",f]]);var g=b,y={components:{NavBar:g}};const _=(0,w.Z)(y,[["render",i]]);var k=_,O=a(2483),T=a(7139);function j(t,n,a,e,o,r){return(0,T.zw)(e.message)}var U=a(4870),S={name:"HomeView",setup(){const t=(0,U.iH)("You are not logged in!"),n=(0,h.oR)();return(0,o.bv)((async()=>{try{const a=await fetch("http://localhost:8000/api/user",{headers:{"Content-Type":"application/json"},credentials:"include"}),e=await a.json();e.name&&(t.value=`Hi ${e.name}`,await n.dispatch("setAuth",!0))}catch(a){await n.dispatch("setAuth",!1)}})),{message:t}}};const P=(0,w.Z)(S,[["render",j]]);var C=P;const V=(0,o._)("h1",{class:"h3 mb-3 fw-normal"},"Please sign in",-1),x=(0,o._)("button",{class:"w-100 btn btn-lg btn-primary",type:"submit"},"Sign in",-1);function H(t,n,a,r,i,s){return(0,o.wg)(),(0,o.iD)("form",{onSubmit:n[2]||(n[2]=(0,e.iM)(((...t)=>r.submit&&r.submit(...t)),["prevent"]))},[V,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>r.data.email=t),type:"email",class:"form-control",placeholder:"name@example.com"},null,512),[[e.nr,r.data.email]]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[1]||(n[1]=t=>r.data.password=t),type:"password",class:"form-control",placeholder:"password"},null,512),[[e.nr,r.data.password]]),x],32)}a(7658);var D={name:"LoginView",setup(){const t=(0,U.qj)({email:"",password:""}),n=(0,O.tv)(),a=async()=>{console.log(t),await fetch("http://localhost:8000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),await n.push("/")};return{data:t,submit:a}}};const N=(0,w.Z)(D,[["render",H]]);var W=N;const A=(0,o._)("h1",{class:"h3 mb-3 fw-normal"},"Please register",-1),R=(0,o._)("button",{class:"w-100 btn btn-lg btn-primary",type:"submit"},"Register",-1);function Z(t,n,a,r,i,s){return(0,o.wg)(),(0,o.iD)("form",{onSubmit:n[3]||(n[3]=(0,e.iM)(((...t)=>r.submit&&r.submit(...t)),["prevent"]))},[A,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[0]||(n[0]=t=>r.data.name=t),class:"form-control",placeholder:"Name"},null,512),[[e.nr,r.data.name]]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[1]||(n[1]=t=>r.data.email=t),type:"email",class:"form-control",placeholder:"name@example.com"},null,512),[[e.nr,r.data.email]]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[2]||(n[2]=t=>r.data.password=t),type:"password",class:"form-control",placeholder:"Password"},null,512),[[e.nr,r.data.password]]),R],32)}var q={name:"RegisterView",setup(){const t=(0,U.qj)({name:"",email:"",password:""}),n=(0,O.tv)(),a=async()=>{console.log(t),await fetch("http://localhost:8000/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),await n.push("/login")};return{data:t,submit:a}}};const M=(0,w.Z)(q,[["render",Z]]);var B=M;const E=[{path:"/",component:C},{path:"",component:C},{path:"/login",component:W},{path:"/register",component:B}],L=(0,O.p7)({history:(0,O.PO)("/"),routes:E});var F=L,J=(0,h.MT)({state:{authenticated:!1},getters:{},mutations:{SET_AUTH:(t,n)=>t.authenticated=n},actions:{setAuth:({commit:t},n)=>t("SET_AUTH",n)},modules:{}});(0,e.ri)(k).use(J).use(F).mount("#app")}},n={};function a(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(n,e,o,r){if(!e){var i=1/0;for(c=0;c<t.length;c++){e=t[c][0],o=t[c][1],r=t[c][2];for(var s=!0,l=0;l<e.length;l++)(!1&r||i>=r)&&Object.keys(a.O).every((function(t){return a.O[t](e[l])}))?e.splice(l--,1):(s=!1,r<i&&(i=r));if(s){t.splice(c--,1);var u=o();void 0!==u&&(n=u)}}return n}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[e,o,r]}}(),function(){a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,{a:n}),n}}(),function(){a.d=function(t,n){for(var e in n)a.o(n,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};a.O.j=function(n){return 0===t[n]};var n=function(n,e){var o,r,i=e[0],s=e[1],l=e[2],u=0;if(i.some((function(n){return 0!==t[n]}))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(l)var c=l(a)}for(n&&n(e);u<i.length;u++)r=i[u],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(c)},e=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}();var e=a.O(void 0,[998],(function(){return a(299)}));e=a.O(e)})();
//# sourceMappingURL=app.3a60dd09.js.map